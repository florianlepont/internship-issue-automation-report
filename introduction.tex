\chapter{Introduction}
\label{Introduction}
\thispagestyle{fancy}

\section{Présentation du produit}
\subsection{les actionneurs}
\label{Introduction:Expression du besoin:Présentation du produit}
Le robot Pepper est constitué de 20 moteurs:
\begin{item}
	\item [Tête] 2 moteurs pour les mouvements de lacet (HeadYaw) et de tangage (HeadPitch)
	\item [Bras] 4 moteurs par bras, répartis de la manière suivante: 
	\begin{item}
		\item [Épaule] 2 moteurs pour les mouvements de tangage (ShoulderPitch) et de roulis du bras (ShoulderRoll).
		\item [Coude] 2 moteurs pour les mouvements de lacet(ElbowRoll) et de lacet (ElbowYaw) de l'avant-bras.
	\end{item}
	\item [Main] 1 moteur pour le mouvement de lacet du poignet (WristYaw) et 1 pour le mouvement d'ouverture et de fermeture de la main (Hand).
	\item [Hanche] 2 moteurs pour le mouvement de roulis (HipRoll) et de tangage (HipPitch) du buste.
	\item [Genoux] 1 moteur pour le mouvement de tangage (KneePitch) du haut du corps.
	\item [Roues] 3 moteurs pour les mouvements en rotation de chacune des 3 roues omnidirectionnelles (WheelB, WheelFR et WheelFL).
\end{item}

\begin{figure}[h]
	\centering\includegraphics[height=7cm]{images/pepper_motors.png}
	\caption{Répartition des actionneurs de Pepper}
	\label{fig:Répartition des actionneurs de Pepper}
\end{figure}

\section{Expression du besoin}
\label{Introduction:Expression du besoin}
L'extension du marché visée par Aldebaran pour Pepper s'accompagne d'une montée en puissance de la production. Afin de la guider, des outils de vérification des produits en fin de ligne de production sont mis en place. Parmi eux, on retrouve le "Filtering Test" qui consiste à réaliser une série de tests durant six heures. Il vise notamment à stresser l'ensemble des parties mécaniques du robot afin de faire ressortir d'éventuelles erreurs. Si une anomalie survient lors du déroulement du test, les différentes données relatives à l'état des systèmes mécaniques et électroniques du robot sont enregistrées dans un fichier journal (e.g. température des fusibles, valeur des accéléromètres, etc.). Afin d'identifier les causes de l'apparition de problèmes sur Pepper, un certain nombre d'hypothèses sont émises à partir de l'étude des données en sortie du système. 

% Mettre à jour le déroulement du test à partir du code de Meigui et des explications de Thomas
\begin{table}[h]
	\begin{tabular}{ | p {4cm} | p {2.5cm} | p {2.5cm} |  p {4cm} |}
		\hline 
		\multicolumn{4}{| l |}{5 étapes successives sur 6 heures de test}\\
		\hline
		Activité & Durée (en minutes) & Temps cumulé (en minutes)  & Description\\
		\hline
		\multicolumn{4}{| l |}{Test 1 : succession de divers actions effectué 40 fois durant les 10 heures }\\
		\hline
		Intro, Danse, Outro & 6 à 7  & 6 à 7 & Réalisation des mouvements d'introduction et d'outro\\
		\hline 
		Cycles de WakeUp, Rest & 3 à 4  & 10  & Passage successif en mode autonome et veille\\
		\hline 
		Faux dialogues & 2  & 12 &  Réalisation des mouvements effectués lors de dialogues\\
		\hline 
		Rest & 3  & 15 & Réalisation des mouvements lors du passage en mode Rest\\
		\hline
		\multicolumn{4}{| l |}{Test 12: enchainement de 8 danses répété 5 fois durant les dix heures} \\
		\hline
	\end{tabular}
	\caption[Déroulement d'un Filtering test]{Déroulement d'un Filtering test}
	\label {tab: Déroulement d'un Filtering test}
\end{table}
 
\subsection{Hiérarchisation des erreurs}
\label{Introduction:Expression du besoin:Hiérarchisation des erreurs}
Afin de gérer au mieux les anomalies, celles-ci sont hiérarchisées en deux catégories.
\begin{description}
	\item [Error name] Il s'agit de l'erreur visible, c'est à dire de la conséquence liée à une anomalie hardware ou software. Cela peut correspondre par exemple à la chute du robot. 
	\item [root cause] Il s'agit de l'anomalie en elle même, c'est à dire de la cause ayant entraîné l'apparition d'une "error name". Si l' "error name" est la chute d'un robot, la "root cause" peut par exemple correspondre à la détérioration d'un engrenage de la hanche.   
\end{description} 

En suivant la logique exprimée par ces définitions, une "error name" sera constituée d'une ou plusieurs "root cause". 
%Ajouter un schéma bloc de la hiérarchie des errors

\subsection{Exemple d'analyse d'un fichier}
\label{Introduction:Expression du besoin:Exemple d'analyse d'un fichier}
\begin{description}
	\item[Observation:] 
	\begin{itemize}
		\item Lors du déroulement du test, le robot tombe à t = 16972 secondes, soit lorsque le robot réalise une séquence de mouvements particulière appelée "Heat Behavior". Les valeurs retournées par l'accéléromètre selon l'axe $Z$ attestent de cette chute.
		\item On analyse alors les données liées aux systèmes mécaniques et électroniques du robot pouvant avoir une relation directe ou indirecte avec sa chute.  Lorsque l'on étudie la vitesse de rotation du moteur de la hanche, on remarque qu'aux environs de  t = 16970 secondes (c'est-à-dire 2 secondes avant la chute du robot), l'information fournie par le senseur ne suit plus la commande  envoyée au moteur.
		%Préviser à quel moment l'augmentation du courant arrive
		\item On remarque également une augmentation anormale du courant dans le moteur de l'articulation. 
	\end{itemize} 
	\item [Hypothèse émise:] Lors de l'exécution de l' animation "Heat Behavior", le robot est amené à réaliser des mouvements amples au niveau de sa hanche entrainant un certain stress sur cette partie mécanique. Lorsque l'engrenage de la hanche arrive près de sa butée mécanique, celui-ci ne parvient pas à atteindre sa position zéro.  Ce phénomène occasionne une augmentation du courant délivré dans le moteur de l'articulation ce qui entraine le passage en mode protégé du robot, désactivant sa rigidité.  Sans cette rigidité, le robot tombe ("error name"). Une étude plus poussée nous apprendra que la "root cause" du problème correspondait à une dent cassé sur l'engrenage de la hanche. 
\end{description}


\section{Solution proposée}
De part la quantité d'informations à analyser, cette tâche peut rapidement devenir rébarbative, d'où le souhait d'automatiser ce processus d'investigation. De part la variabilité des types de données, on ne peut réduire le nombre d'information à analyser en recherchant des caractéristiques communes (e.g. moyenne, écart type, etc.). On se propose donc d'utiliser des approches algorithmiques plus poussées via des méthodes d'apprentissages automatiques (plus connues sous le terme anglais de Machine Learning). La multiplicité des modèles composant l'apprentissage automatique nous permettra de répondre au mieux à la problématique.